(this["webpackJsonpreact-playground"]=this["webpackJsonpreact-playground"]||[]).push([[0],{174:function(e,t,a){e.exports=a(352)},179:function(e,t,a){},180:function(e,t,a){},352:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(8),l=a.n(c),o=(a(179),a(116)),u=a(24),i=(a(180),a(353),a(171)),m=(a(149),a(67)),d=(a(121),a(43)),s=a(61),f=a(62),p=a(68),b=a(69),v=a(117),E=a(357),C=a(355),g=a(356),h=function(e){var t=e.dataSource,a=e.value,c=Object(n.useState)([]),l=Object(b.a)(c,2),o=l[0],u=l[1],h=Object(n.useCallback)((function(e,t,a){u(Object(v.a)(o,(function(n){n.forEach((function(n){n.attrId===t&&(n.attrValueSelected=n.attrValueSelected.filter((function(e){return e!==a})),e&&n.attrValueSelected.push(a))}))})))}),[o,u]),k=Object(n.useMemo)((function(){var e=function e(t){if(!t.length)return[];var a=E.a(t),n=e(C.a(t));return a.attrValueSelected.map((function(e){return{attrName:a.attrName,attrId:a.attrId,attrValue:e,attrChildren:n}}))}(o),t=o.length,a=[];return e.forEach((function(e){a.push.apply(a,Object(p.a)(function e(a,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!a||!a.attrChildren.length)return[];var c=n||[{attrName:a.attrName,attrId:a.attrId,attrValue:a.attrValue}];return a.attrChildren.forEach((function(a){var n=c.map((function(e){return e.attrValue})).concat(a.attrValue).join("-"),l={attrName:a.attrName,attrId:a.attrId,attrValue:a.attrValue,key:n},o=[].concat(Object(p.a)(c),[l]);if(e(a,o,r),o.length===t){var u=o.reduce((function(e,t){var a;return Object(f.a)({},e,(a={},Object(s.a)(a,t.attrId,t.attrValue),Object(s.a)(a,"key",t.key),a))}),{});r.push(u)}})),r}(e)))})),a}),[o]),j=Object(n.useMemo)((function(){return o.map((function(e){return{title:e.attrName,dataIndex:e.attrId,key:e.attrId}}))}),[o]);Object(n.useEffect)((function(){var e=t.map((function(e,t){return Object(f.a)({},e,{attrValueSelected:g.a(a[t]||[])})}));u(Object(v.a)(e,(function(){})))}),[t,a,u]);var I=Object(n.useCallback)((function(e){return r.a.createElement("div",{className:"df ac pt12 pb12"},r.a.createElement("div",{className:"w120 mr12"},e.attrName),r.a.createElement("div",{className:"f1 ac"},e.attrValues.map((function(t){return r.a.createElement(d.a,{key:t,checked:e.attrValueSelected.includes(t),onChange:function(a){return h(a.target.checked,e.attrId,t)}},t)}))))}),[h]);return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(m.b,{dataSource:o,renderItem:I}),r.a.createElement(i.a,{dataSource:k,columns:j,pagination:!1})))},k=[{attrName:"\u578b\u53f7",attrId:"100001",attrValues:["\u5927\u9646\u7248","\u6e2f\u7248","\u53f0\u7248"]},{attrName:"\u989c\u8272",attrId:"100002",attrValues:["\u7ea2","\u767d","\u9ed1"]},{attrName:"\u5185\u5b58",attrId:"100003",attrValues:["64G","32G","16G"]}];var j=function(){return r.a.createElement("div",{className:"ml12 pl12"},r.a.createElement(h,{dataSource:k,value:[]}))},I=(a(37),a(9)),O=a(167),y=a.n(O),V=(a(147),a(89)),N=(a(148),a(91)),S=function(e){var t=e.dataSource,a=e.addTodoItem,n=e.inputValue,c=e.setInputValue,l=e.deleteTodoItem,o=(e.setComplete,e.toggleComplete);return r.a.createElement("div",null,r.a.createElement("div",null,"\u8fd9\u662f\u79fb\u52a8\u7aef\u9875\u9762"),r.a.createElement("div",null,r.a.createElement(N.a,{value:n,onChange:function(e){return c(e.target.value)},onPressEnter:function(e){return a(n)}})),r.a.createElement("div",null,t.map((function(e){return r.a.createElement("div",{key:e.key,className:"w100-percent fdr df jsb ac mt12 mb12"},r.a.createElement("div",{style:{textDecoration:e.isComplete?"line-through":""}},e.label),r.a.createElement(V.a,null,r.a.createElement(I.a,{type:"ghost",onClick:function(){return l(e.key)}},"\u5220\u9664"),r.a.createElement(I.a,{type:"primary",onClick:function(){return o(e.key)}},e.isComplete?"\u53d6\u6d88\u5b8c\u6210":"\u5b8c\u6210")))}))))},T=function(e){var t=e.dataSource,a=e.addTodoItem,n=e.inputValue,c=e.setInputValue,l=e.deleteTodoItem,o=e.toggleComplete;return r.a.createElement("div",null,r.a.createElement("div",null,"\u8fd9\u662fPC\u7aef\u9875\u9762"),r.a.createElement("div",null,r.a.createElement(N.a,{value:n,onChange:function(e){return c(e.target.value)},onPressEnter:function(e){return a(n)}})),r.a.createElement("div",null,r.a.createElement(m.b,{size:"small",bordered:!0,dataSource:t,renderItem:function(e){return r.a.createElement(m.b.Item,{className:"df jsb"},r.a.createElement("div",null,e.label),r.a.createElement(V.a,null,r.a.createElement(I.a,{type:"ghost",onClick:function(){return l(e.key)}},"\u5220\u9664"),r.a.createElement(I.a,{type:"primary",onClick:function(){return o(e.key)}},e.isComplete?"\u53d6\u6d88\u5b8c\u6210":"\u5b8c\u6210")))}})))},w=function(){var e=Object(u.h)().platform,t=Object(u.g)(),a="mobile"===e?S:T,c=function(){var e=Object(n.useState)([]),t=Object(b.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),l=Object(b.a)(c,2),o=l[0],u=l[1],i=Object(n.useCallback)((function(e,t){return a.map((function(a){return a.key===e?Object(f.a)({},a,{},"function"===typeof t?t(a):t):a}))}),[a]),m=Object(n.useCallback)((function(e){return{label:e,isComplete:!1,key:y.a.v4()}}),[]),d=Object(n.useCallback)((function(e,t){var a=i(e,{isComplete:t});console.log(a,"2222"),r(a)}),[i,r]),s=Object(n.useCallback)((function(e){d(e,!0)}),[d]),v=Object(n.useCallback)((function(e){d(e,!1)}),[d]),E=Object(n.useCallback)((function(e){r(i(e,(function(e){return{isComplete:!e.isComplete}})))}),[i]),C=Object(n.useCallback)((function(e){r((function(t){return t.filter((function(t){return t.key!==e}))}))}),[]),g=Object(n.useCallback)((function(e){e&&(r((function(t){return[].concat(Object(p.a)(t),[m(e)])})),u(""))}),[m]),h=Object(n.useCallback)((function(e,t){r(i(e,{label:t}))}),[i]);return{inputValue:o,setInputValue:u,dataSource:a,addTodoItem:g,deleteTodoItem:C,updTodoItem:h,setComplete:s,setUnComplete:v,toggleComplete:E}}(),l=c.inputValue,o=c.setInputValue,i=c.dataSource,m=c.addTodoItem,d=c.updTodoItem,s=c.deleteTodoItem,v=c.setComplete,E=c.setUnComplete,C=c.toggleComplete,g=Object(n.useMemo)((function(){return"pc"===e?"mobile":"pc"}),[e]),h=Object(n.useCallback)((function(){t.replace("/todolist/".concat(g))}),[t,g]);return r.a.createElement("div",{className:"todolist-page"},r.a.createElement(I.a,{onClick:h},"\u5207\u6362\u5230",g),r.a.createElement(a,{inputValue:l,setInputValue:o,dataSource:i,addTodoItem:m,updTodoItem:d,deleteTodoItem:s,setComplete:v,setUnComplete:E,toggleComplete:C}))},x=function(){var e=Object(u.g)(),t=r.a.useCallback((function(){e.push("/")}),[e]);return r.a.createElement("div",{className:"not-found-page"},r.a.createElement("div",null,"404 \u6ca1\u627e\u5230\u54e6"),r.a.createElement(I.a,{type:"ghost",onClick:t},"\u53bb\u9996\u9875"))};var G=function(){return r.a.createElement(o.a,null,r.a.createElement(u.d,null,r.a.createElement(u.b,{exact:!0,path:"/",component:j}),r.a.createElement(u.b,{exact:!0,path:"/todolist/:platform",component:w}),r.a.createElement(u.a,{exact:!0,from:"/todolist",to:"/todolist/pc"}),r.a.createElement(u.b,{exact:!0,path:"/404",component:x}),r.a.createElement(u.a,{exact:!0,from:"/*",to:"/404"})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var M=a(120),P=a.n(M);(function(){P.a.mock("".concat("/api","/list"),"get",{success:!0,message:"\u8bf7\u6c42\u6210\u529f","data|10-15":[{"value|1-10":function(){return P.a.Random.cparagraph(1)},"id|5":"","isFinish|1":!1}]})})(),l.a.render(r.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[174,1,2]]]);
//# sourceMappingURL=main.c4562bbf.chunk.js.map