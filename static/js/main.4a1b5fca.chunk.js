(this["webpackJsonpreact-playground"]=this["webpackJsonpreact-playground"]||[]).push([[0],{184:function(e,t,a){e.exports=a(382)},189:function(e,t,a){},190:function(e,t,a){},382:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(4),o=a.n(c),u=(a(189),a(118)),i=a(44),l=(a(190),a(383),a(181)),d=(a(160),a(95)),s=(a(100),a(31)),m=a(66),f=a(119),p=a(125),v=a(59),h=a(120),E=a(389),g=a(386),b=a(387),j=function(e){var t=e.dataSource,a=e.value,c=Object(n.useState)([]),o=Object(v.a)(c,2),u=o[0],i=o[1],j=Object(n.useCallback)((function(e,t,a){i(Object(h.a)(u,(function(n){n.forEach((function(n){n.attrId===t&&(n.attrValueSelected=n.attrValueSelected.filter((function(e){return e!==a})),e&&n.attrValueSelected.push(a))}))})))}),[u,i]),k=Object(n.useMemo)((function(){var e=function e(t){if(!t.length)return[];var a=E.a(t),n=e(g.a(t));return a.attrValueSelected.map((function(e){return{attrName:a.attrName,attrId:a.attrId,attrValue:e,attrChildren:n}}))}(u),t=u.length,a=[];return e.forEach((function(e){a.push.apply(a,Object(p.a)(function e(a,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!a||!a.attrChildren.length)return[];var c=n||[{attrName:a.attrName,attrId:a.attrId,attrValue:a.attrValue}];return a.attrChildren.forEach((function(a){var n=c.map((function(e){return e.attrValue})).concat(a.attrValue).join("-"),o={attrName:a.attrName,attrId:a.attrId,attrValue:a.attrValue,key:n},u=[].concat(Object(p.a)(c),[o]);if(e(a,u,r),u.length===t){var i=u.reduce((function(e,t){var a;return Object(f.a)({},e,(a={},Object(m.a)(a,t.attrId,t.attrValue),Object(m.a)(a,"key",t.key),a))}),{});r.push(i)}})),r}(e)))})),a}),[u]),I=Object(n.useMemo)((function(){return u.map((function(e){return{title:e.attrName,dataIndex:e.attrId,key:e.attrId}}))}),[u]);Object(n.useEffect)((function(){var e=t.map((function(e,t){return Object(f.a)({},e,{attrValueSelected:b.a(a[t]||[])})}));i(Object(h.a)(e,(function(){})))}),[t,a,i]);var y=Object(n.useCallback)((function(e){return r.a.createElement("div",{className:"df ac pt12 pb12"},r.a.createElement("div",{className:"w120 mr12"},e.attrName),r.a.createElement("div",{className:"f1 ac"},e.attrValues.map((function(t){return r.a.createElement(s.a,{key:t,checked:e.attrValueSelected.includes(t),onChange:function(a){return j(a.target.checked,e.attrId,t)}},t)}))))}),[j]);return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(d.a,{dataSource:u,renderItem:y}),r.a.createElement(l.a,{dataSource:k,columns:I,pagination:!1})))},k=[{attrName:"\u578b\u53f7",attrId:"100001",attrValues:["\u5927\u9646\u7248","\u6e2f\u7248","\u53f0\u7248"]},{attrName:"\u989c\u8272",attrId:"100002",attrValues:["\u7ea2","\u767d","\u9ed1"]},{attrName:"\u5185\u5b58",attrId:"100003",attrValues:["64G","32G","16G"]}];var I=function(){return r.a.createElement("div",{className:"ml12 pl12"},r.a.createElement(j,{dataSource:k,value:[]}))},y=(a(61),a(13)),O=function(e){var t=e.value,a=e.isFinish,n=e.id,c=e.checked,o=e.onDelete,u=e.onChange;return r.a.createElement("div",{className:"w100-percent df ac jsb pl12 pr12",style:{height:40}},r.a.createElement(s.a,{checked:c,onChange:function(){return null===u||void 0===u?void 0:u(n)}},r.a.createElement("span",{style:{textDecoration:a?"line-through":""}},t)),r.a.createElement(y.a,{type:"danger",onClick:function(){return null===o||void 0===o?void 0:o(n)}},"\u5220\u9664"))},N=function(e){var t=e.dataSource;return r.a.createElement("div",null,r.a.createElement(d.a,{size:"large",header:r.a.createElement("div",null,"Header"),footer:r.a.createElement("div",null,"Footer"),bordered:!0,dataSource:t,renderItem:function(e){return r.a.createElement(O,{key:e.id,id:e.id,value:e.value,isFinish:e.isFinish,checked:!1})}}))},S=(a(354),a(182)),V=a(71),w=a.n(V);function C(e){S.a.error({title:e})}w.a.defaults.timeout=1e4,w.a.interceptors.request.use((function(e){return Object.assign(e.headers,{"X-Auth-Token":"666","Content-Type":"application/json"}),e}),(function(e){return C("\u8bf7\u6c42\u8d85\u65f6\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5\uff01"),Promise.reject(e)})),w.a.interceptors.response.use((function(e){if(403===e.status)throw C("\u6ca1\u6709\u6743\u9650"),new Error("\u6ca1\u6709\u6743\u9650");return e}),(function(e){return C("\u8bf7\u6c42\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5\uff01"),Promise.reject(e)}));var x=function(){return w.a.apply(void 0,arguments).then((function(e){return e.data}))},F="".concat("/api","/list"),z=function(e){var t=e.keywords,a=void 0===t?"":t,n=e.pageIndex,r=void 0===n?1:n,c=e.pageSize;return x(F,{method:"GET",data:{keywords:a,pageIndex:r,pageSize:void 0===c?10:c}})},G=a(388);var T=function(){var e=function(e,t,a){var n=r.a.useState(a),c=Object(v.a)(n,2),o=c[0],u=c[1];return Object(G.a)((function(){e(t).then((function(e){console.log(e),u(e.data)}))}),[t]),[o]}(z,{keywords:"",pageIndex:1,pageSize:10},[]),t=Object(v.a)(e,1)[0];return r.a.createElement("div",{className:"todolist-page"},r.a.createElement(N,{dataSource:t}))},B=function(){var e=Object(i.g)(),t=r.a.useCallback((function(){e.push("/")}),[e]);return r.a.createElement("div",{className:"not-found-page"},r.a.createElement("div",null,"404 \u6ca1\u627e\u5230\u54e6"),r.a.createElement(y.a,{type:"danger",onClick:t},"\u53bb\u9996\u9875"))};var D=function(){return r.a.createElement(u.a,null,r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/",component:I}),r.a.createElement(i.b,{exact:!0,path:"/todolist",component:T}),r.a.createElement(i.b,{exact:!0,path:"/404",component:B}),r.a.createElement(i.a,{exact:!0,from:"/*",to:"/404"})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var J=a(124),M=a.n(J);(function(){M.a.mock("".concat("/api","/list"),"get",{success:!0,message:"\u8bf7\u6c42\u6210\u529f","data|10-15":[{"value|1-10":function(){return M.a.Random.cparagraph(1)},"id|5":"","isFinish|1":!1}]})})(),o.a.render(r.a.createElement(D,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[184,1,2]]]);
//# sourceMappingURL=main.4a1b5fca.chunk.js.map